// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Article {
  id                String          @id @default(cuid())
  title             String
  content           String
  originalContent   String
  translatedContent String
  difficulty        String          // "simple", "medium", "hard"
  source            String
  sourceUrl         String
  publishDate       DateTime
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  readingTime       Int
  wordCount         Int
  isPublished       Boolean         @default(true)
  tags              String          // JSON string of tags array
  hotScore          Int             @default(0) // 文章热度分数

  @@map("articles")
}

// enum DifficultyLevel {
//   simple
//   medium
//   hard
// }

model Settings {
  id        String   @id @default(cuid())
  key       String   @unique
  value     String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("settings")
}

model ScheduleLog {
  id           String   @id @default(cuid())
  taskType     String
  status       String   // success, error, running
  message      String?
  newArticles  Int      @default(0)
  duration     Int?     // execution time in milliseconds
  createdAt    DateTime @default(now())

  @@map("schedule_logs")
}