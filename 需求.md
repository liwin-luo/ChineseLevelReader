# 中文分级阅读网站需求与开发计划

## 业务需求

### 核心功能
- 创建一个英语预言者学习中文的分级阅读网站
- 要求1：每一篇文章需要分3个级别，简单/中等/困难
- 要求2：每天定期更新一篇新闻，从 https://www.geekpark.net/rss 获取最新新闻，调用kimi接口（目前模拟）翻译成英文
- 要求3：网站要风格清新

### 目标用户
- 英语母语者学习中文
- 不同中文水平的学习者（初级、中级、高级）

## 技术要求  
- 使用 Next.js + TypeScript + Tailwind CSS 完成MVP
- 遵循类型安全的编程风格

## 详细开发计划

### 阶段一：项目基础搭建（1-2天）

#### 1. 项目初始化
- 使用 `create-next-app` 创建项目
- 配置 TypeScript 和 Tailwind CSS
- 设置 ESLint 和 Prettier
- 初始化 Git 仓库

#### 2. 数据模型设计
```typescript
// 核心数据类型
interface Article {
  id: string;
  title: string;
  content: string;
  originalContent: string; // 中文原文
  translatedContent: string; // 英文翻译
  difficulty: 'simple' | 'medium' | 'hard';
  source: string;
  publishDate: Date;
  tags: string[];
}

interface DifficultyLevel {
  level: 'simple' | 'medium' | 'hard';
  description: string;
  criteria: {
    vocabularyComplexity: number;
    sentenceLength: number;
    grammarComplexity: number;
  };
}
```

### 阶段二：核心功能开发（3-5天）

#### 3. 页面结构创建
- **首页**：展示各难度级别的精选文章
- **文章列表页**：按难度分类显示文章
- **文章详情页**：双语对照阅读界面

#### 4. RSS数据获取
- 使用 xml2js 解析RSS feeds
- 定期检查GeekPark新内容
- 数据清洗和格式化

#### 5. AI翻译集成
- 创建翻译服务抽象层
- 模拟Kimi API接口
- 处理翻译结果和错误情况

#### 6. 难度分级算法
基于以下因素的评分算法：
- 词汇复杂度（HSK等级、生僻字比例）
- 句子长度和结构复杂性
- 语法难度（从句、被动语态等）
- 专业术语密度

### 阶段三：界面设计与用户体验（2-3天）

#### 7. 清新UI设计
- **设计原则**：简洁、清新、易读
- **色彩方案**：浅色主题，舒缓的蓝绿色调
- **字体选择**：中英文字体适配
- **响应式布局**：支持桌面端和移动端

#### 8. 文章管理功能
- 文章列表展示和分页
- 按难度级别筛选
- 搜索功能
- 收藏/书签功能

### 阶段四：自动化与数据管理（2-3天）

#### 9. 定时任务实现
- 使用Next.js API routes + cron job
- 每日定时抓取RSS
- 自动翻译和分级
- 内容审核和发布

#### 10. 数据持久化
- **推荐方案**：SQLite（开发）+ PostgreSQL（生产）
- **ORM**：Prisma
- 数据库表设计和关系定义

### 阶段五：优化与测试（1-2天）

#### 11. 用户体验优化
- 加载状态和骨架屏
- 错误边界和友好错误提示
- 性能优化（图片懒加载、代码分割）
- SEO优化

#### 12. 测试与调试
- 单元测试（Jest + React Testing Library）
- API接口测试
- 端到端测试
- 性能和可访问性测试

### 阶段六：部署准备（1天）

#### 13. 部署配置
- 环境变量配置
- 构建优化
- 部署到 Vercel 或其他平台

## 技术栈详细说明

### 前端技术
- **Next.js 14**：App Router + Server Components
- **TypeScript**：类型安全
- **Tailwind CSS**：样式框架
- **Headless UI**：无样式组件库

### 后端技术  
- **Next.js API Routes**：后端API
- **Prisma**：数据库ORM
- **node-cron**：定时任务
- **xml2js**：RSS解析

### 开发工具
- **ESLint + Prettier**：代码规范
- **Husky**：Git hooks
- **Jest**：单元测试
- **Playwright**：E2E测试

## 预期开发时间

**总计：7-12个工作日**

- 基础搭建：1-2天
- 核心功能：3-5天  
- UI/UX：2-3天
- 自动化：2-3天
- 测试优化：1-2天
- 部署：1天

## 开发任务列表

### ✅ 已完成
- [x] 需求分析和开发计划制定
- [x] 项目初始化：创建Next.js项目并配置TypeScript和Tailwind CSS
- [x] 创建基础页面结构：首页、文章列表页、文章详情页
- [x] 实现RSS数据获取功能：从GeekPark获取新闻数据
- [x] 集成AI翻译服务：模拟Kimi接口进行中英文翻译
- [x] 实现难度分级算法：自动将文章分为简单/中等/困难三个级别
- [x] 实现数据持久化：选择数据库方案并实现数据存储
- [x] 添加用户体验优化：加载状态、错误处理、搜索功能

### 🔄 进行中
- [ ] 添加定时任务：每日自动更新新闻内容（Vercel Cron 已接入端点，待线上配置）

### ⏳ 待开始
- [ ] 设计数据模型：定义用户与收藏关系（或匿名收藏策略）
- [ ] 设计和实现清新UI界面：响应式设计，支持移动端（持续优化）
- [ ] 实现文章管理功能：增删改查、分类筛选（管理台完善）
- [ ] 测试和调试：单元测试、集成测试、用户体验测试（搭建 Jest/Playwright）
- [ ] 部署准备：构建优化、环境配置、部署方案（补充 CI/CD）
